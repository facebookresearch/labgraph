{"ast":null,"code":"var _ = require(\"./lodash\");\n\nvar Graph = require(\"./graph\");\n\nmodule.exports = {\n  write: write,\n  read: read\n};\n\nfunction write(g) {\n  var json = {\n    options: {\n      directed: g.isDirected(),\n      multigraph: g.isMultigraph(),\n      compound: g.isCompound()\n    },\n    nodes: writeNodes(g),\n    edges: writeEdges(g)\n  };\n\n  if (!_.isUndefined(g.graph())) {\n    json.value = _.clone(g.graph());\n  }\n\n  return json;\n}\n\nfunction writeNodes(g) {\n  return _.map(g.nodes(), function (v) {\n    var nodeValue = g.node(v);\n    var parent = g.parent(v);\n    var node = {\n      v: v\n    };\n\n    if (!_.isUndefined(nodeValue)) {\n      node.value = nodeValue;\n    }\n\n    if (!_.isUndefined(parent)) {\n      node.parent = parent;\n    }\n\n    return node;\n  });\n}\n\nfunction writeEdges(g) {\n  return _.map(g.edges(), function (e) {\n    var edgeValue = g.edge(e);\n    var edge = {\n      v: e.v,\n      w: e.w\n    };\n\n    if (!_.isUndefined(e.name)) {\n      edge.name = e.name;\n    }\n\n    if (!_.isUndefined(edgeValue)) {\n      edge.value = edgeValue;\n    }\n\n    return edge;\n  });\n}\n\nfunction read(json) {\n  var g = new Graph(json.options).setGraph(json.value);\n\n  _.each(json.nodes, function (entry) {\n    g.setNode(entry.v, entry.value);\n\n    if (entry.parent) {\n      g.setParent(entry.v, entry.parent);\n    }\n  });\n\n  _.each(json.edges, function (entry) {\n    g.setEdge({\n      v: entry.v,\n      w: entry.w,\n      name: entry.name\n    }, entry.value);\n  });\n\n  return g;\n}","map":{"version":3,"sources":["C:/Users/zenak/Desktop/labgraph_monitor/node_modules/graphlib/lib/json.js"],"names":["_","require","Graph","module","exports","write","read","g","json","options","directed","isDirected","multigraph","isMultigraph","compound","isCompound","nodes","writeNodes","edges","writeEdges","isUndefined","graph","value","clone","map","v","nodeValue","node","parent","e","edgeValue","edge","w","name","setGraph","each","entry","setNode","setParent","setEdge"],"mappings":"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","sourcesContent":["var _ = require(\"./lodash\");\nvar Graph = require(\"./graph\");\n\nmodule.exports = {\n  write: write,\n  read: read\n};\n\nfunction write(g) {\n  var json = {\n    options: {\n      directed: g.isDirected(),\n      multigraph: g.isMultigraph(),\n      compound: g.isCompound()\n    },\n    nodes: writeNodes(g),\n    edges: writeEdges(g)\n  };\n  if (!_.isUndefined(g.graph())) {\n    json.value = _.clone(g.graph());\n  }\n  return json;\n}\n\nfunction writeNodes(g) {\n  return _.map(g.nodes(), function(v) {\n    var nodeValue = g.node(v);\n    var parent = g.parent(v);\n    var node = { v: v };\n    if (!_.isUndefined(nodeValue)) {\n      node.value = nodeValue;\n    }\n    if (!_.isUndefined(parent)) {\n      node.parent = parent;\n    }\n    return node;\n  });\n}\n\nfunction writeEdges(g) {\n  return _.map(g.edges(), function(e) {\n    var edgeValue = g.edge(e);\n    var edge = { v: e.v, w: e.w };\n    if (!_.isUndefined(e.name)) {\n      edge.name = e.name;\n    }\n    if (!_.isUndefined(edgeValue)) {\n      edge.value = edgeValue;\n    }\n    return edge;\n  });\n}\n\nfunction read(json) {\n  var g = new Graph(json.options).setGraph(json.value);\n  _.each(json.nodes, function(entry) {\n    g.setNode(entry.v, entry.value);\n    if (entry.parent) {\n      g.setParent(entry.v, entry.parent);\n    }\n  });\n  _.each(json.edges, function(entry) {\n    g.setEdge({ v: entry.v, w: entry.w, name: entry.name }, entry.value);\n  });\n  return g;\n}\n"]},"metadata":{},"sourceType":"script"}