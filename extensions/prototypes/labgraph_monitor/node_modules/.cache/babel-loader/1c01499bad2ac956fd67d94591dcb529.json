{"ast":null,"code":"\"use strict\";\n\nvar _ = require(\"../lodash\");\n\nvar util = require(\"../util\");\n\nvar positionX = require(\"./bk\").positionX;\n\nmodule.exports = position;\n\nfunction position(g) {\n  g = util.asNonCompoundGraph(g);\n  positionY(g);\n\n  _.forEach(positionX(g), function (x, v) {\n    g.node(v).x = x;\n  });\n}\n\nfunction positionY(g) {\n  var layering = util.buildLayerMatrix(g);\n  var rankSep = g.graph().ranksep;\n  var prevY = 0;\n\n  _.forEach(layering, function (layer) {\n    var maxHeight = _.max(_.map(layer, function (v) {\n      return g.node(v).height;\n    }));\n\n    _.forEach(layer, function (v) {\n      g.node(v).y = prevY + maxHeight / 2;\n    });\n\n    prevY += maxHeight + rankSep;\n  });\n}","map":{"version":3,"sources":["C:/Users/zenak/Desktop/labgraph_monitor/node_modules/dagre/lib/position/index.js"],"names":["_","require","util","positionX","module","exports","position","g","asNonCompoundGraph","positionY","forEach","x","v","node","layering","buildLayerMatrix","rankSep","graph","ranksep","prevY","layer","maxHeight","max","map","height","y"],"mappings":"AAAA;;AAEA,IAAIA,CAAC,GAAGC,OAAO,CAAC,WAAD,CAAf;;AACA,IAAIC,IAAI,GAAGD,OAAO,CAAC,SAAD,CAAlB;;AACA,IAAIE,SAAS,GAAGF,OAAO,CAAC,MAAD,CAAP,CAAgBE,SAAhC;;AAEAC,MAAM,CAACC,OAAP,GAAiBC,QAAjB;;AAEA,SAASA,QAAT,CAAkBC,CAAlB,EAAqB;AACnBA,EAAAA,CAAC,GAAGL,IAAI,CAACM,kBAAL,CAAwBD,CAAxB,CAAJ;AAEAE,EAAAA,SAAS,CAACF,CAAD,CAAT;;AACAP,EAAAA,CAAC,CAACU,OAAF,CAAUP,SAAS,CAACI,CAAD,CAAnB,EAAwB,UAASI,CAAT,EAAYC,CAAZ,EAAe;AACrCL,IAAAA,CAAC,CAACM,IAAF,CAAOD,CAAP,EAAUD,CAAV,GAAcA,CAAd;AACD,GAFD;AAGD;;AAED,SAASF,SAAT,CAAmBF,CAAnB,EAAsB;AACpB,MAAIO,QAAQ,GAAGZ,IAAI,CAACa,gBAAL,CAAsBR,CAAtB,CAAf;AACA,MAAIS,OAAO,GAAGT,CAAC,CAACU,KAAF,GAAUC,OAAxB;AACA,MAAIC,KAAK,GAAG,CAAZ;;AACAnB,EAAAA,CAAC,CAACU,OAAF,CAAUI,QAAV,EAAoB,UAASM,KAAT,EAAgB;AAClC,QAAIC,SAAS,GAAGrB,CAAC,CAACsB,GAAF,CAAMtB,CAAC,CAACuB,GAAF,CAAMH,KAAN,EAAa,UAASR,CAAT,EAAY;AAAE,aAAOL,CAAC,CAACM,IAAF,CAAOD,CAAP,EAAUY,MAAjB;AAA0B,KAArD,CAAN,CAAhB;;AACAxB,IAAAA,CAAC,CAACU,OAAF,CAAUU,KAAV,EAAiB,UAASR,CAAT,EAAY;AAC3BL,MAAAA,CAAC,CAACM,IAAF,CAAOD,CAAP,EAAUa,CAAV,GAAcN,KAAK,GAAGE,SAAS,GAAG,CAAlC;AACD,KAFD;;AAGAF,IAAAA,KAAK,IAAIE,SAAS,GAAGL,OAArB;AACD,GAND;AAOD","sourcesContent":["\"use strict\";\n\nvar _ = require(\"../lodash\");\nvar util = require(\"../util\");\nvar positionX = require(\"./bk\").positionX;\n\nmodule.exports = position;\n\nfunction position(g) {\n  g = util.asNonCompoundGraph(g);\n\n  positionY(g);\n  _.forEach(positionX(g), function(x, v) {\n    g.node(v).x = x;\n  });\n}\n\nfunction positionY(g) {\n  var layering = util.buildLayerMatrix(g);\n  var rankSep = g.graph().ranksep;\n  var prevY = 0;\n  _.forEach(layering, function(layer) {\n    var maxHeight = _.max(_.map(layer, function(v) { return g.node(v).height; }));\n    _.forEach(layer, function(v) {\n      g.node(v).y = prevY + maxHeight / 2;\n    });\n    prevY += maxHeight + rankSep;\n  });\n}\n\n"]},"metadata":{},"sourceType":"script"}